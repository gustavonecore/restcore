<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: restcore.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: restcore.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Restcore
 * @external "jQuery.fn"
 */

/**
 * Restcore plugin
 * @function external:"jQuery.fn".restCore
 */
(function($)
{
	/**
	 * Make an HTTP request
	 *
	 * @class restCore
	 * @param {string}   method   - The HTTP method to use
	 * @param {string}   url      - The url of the endpoint
	 * @param {object}   query    - Used like query data or body data
	 * @param {callback} next     - Callback with the server response
	 * @param {object}   options  - JSon object with with options to setup e.g: the headers {header:'', value:''}
	 */
	$.restCore = function(method, url, query, next, options)
	{
		if (!method)
		{
			throw Error('You must define the HTTP method');
		}
		if (!url)
		{
			throw Error('You must define the url endpoint');
		}
		if (!next || !(next instanceof Function))
		{
			throw Error('You must define the [next] callback');
		}

		$.ajax({
			data: query,
			beforeSend: function(xhr)
			{
				if (options &amp;&amp; options.headers)
				{
					var headers = options.headers;
					for (var i in headers)
					{
						xhr.setRequestHeader(headers[i].header, headers[i].value);
					}
				}
			},
			url: url,
			crossDomain: true,
			dataType: "json",
			type: method.toUpperCase(),
			success: function (response)
			{
				next(null, response);
			},
			error: function(xhr,status,error)
			{
				next({
					error: error,
					xhr: xhr,
					status: status
				}, null);
			}
		});
	};
}(jQuery));</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-_jQuery.fn_.html">jQuery.fn</a></li></ul><h3>Classes</h3><ul><li><a href="restCore.html">restCore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Mar 09 2016 17:59:25 GMT-0300 (CLT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
